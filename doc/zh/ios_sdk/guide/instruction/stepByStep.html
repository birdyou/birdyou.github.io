<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="">
<meta name="author" content="">
<title>JUMA SDK</title>
<!-- Bootstrap core CSS -->
<link href="http://www.juma.io/doc/static/css/bootstrap.min.css" rel="stylesheet">
<link href="http://www.juma.io/doc/static/css/table.css" rel="stylesheet">
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
<style>
.navbar-brand{
padding:0px;
width: 120px;
background-image: url("http://www.juma.io/doc/static/JUMA-LOGO.png");
background-size: 60% 40%;
background-repeat: no-repeat;
background-position: center;
}
.content-section-a {
padding: 20px 0;
background-color: #f8f8f8;
}
.well-font { font-size: 16px; }
</style>
<SCRIPT>
var menu_wwwzzjsnet=function(){
var t=15,z=50,s=6,a;
function dd(n){this.n=n; this.h=[]; this.c=[]}
dd.prototype.init=function(p,c){
a=c; var w=document.getElementById(p), s=w.getElementsByTagName('ul'), l=s.length, i=0;
for(i;i<l;i++){
var h=s[i].parentNode; this.h[i]=h; this.c[i]=s[i];
h.onmouseover=new Function(this.n+'.st('+i+',true)');
h.onmouseout=new Function(this.n+'.st('+i+')');
}
}
dd.prototype.st=function(x,f){
var c=this.c[x], h=this.h[x], p=h.getElementsByTagName('a')[0];
clearInterval(c.t); c.style.overflow='hidden';
if(f){
p.className+=' '+a;
if(!c.mh){c.style.display='block'; c.style.height=''; c.mh=c.offsetHeight; c.style.height=0}
if(c.mh==c.offsetHeight){c.style.overflow='visible'}
else{c.style.zIndex=z; z++; c.t=setInterval(function(){sl(c,1)},t)}
}else{p.className=p.className.replace(a,''); c.t=setInterval(function(){sl(c,-1)},t)}
}
function sl(c,f){
var h=c.offsetHeight;
if((h<=0&&f!=1)||(h>=c.mh&&f==1)){
if(f==1){c.style.filter=''; c.style.opacity=1; c.style.overflow='visible'}
clearInterval(c.t); return
}
var d=(f==1)?Math.ceil((c.mh-h)/s):Math.ceil(h/s), o=h/c.mh;
c.style.opacity=o; c.style.filter='alpha(opacity='+(o*100)+')';
c.style.height=h+(d*f)+'px'
}
return{dd:dd}
}();
</SCRIPT>
</head>
<body>
<nav class="navbar navbar-inverse">
<div class="container">
<div class="navbar-header">
<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="http://www.juma.io"></a>
</div>
<div id="navbar" class="collapse navbar-collapse">
<ul class="nav navbar-nav">
<li><a href="http://www.juma.io/doc/zh/introduction.html">概述</a></li>
<li><a href="http://www.juma.io/doc/zh/boards.html">硬件</a></li>
<li><a href="http://www.juma.io/doc/zh/embedded_sdk.html">嵌入式</a></li>
<li><a href="http://www.juma.io/doc/zh/android_sdk.html">Android</a></li>
<li><a href="http://www.juma.io/doc/zh/ios_sdk.html">iOS</a></li>
</ul>
</div><!-- /.nav-collapse -->
</div><!-- /.container -->
</nav><!-- /.navbar -->
<div class="container">
<div class="row row-offcanvas row-offcanvas-right">
<div class="col-xs-12 col-sm-9">
<h2 id="juma-ios-sdk-使用说明">JUMA iOS SDK 使用说明</h2>
<p>以下所有内容全部基于 Xcode 6 完成.<br />如果没有 Xcode 的使用经验, 请严格按照下面所说的进行操作, 并在需要输入的地方输入相同的内容</p>
<hr />
<h3 id="一新建一个-xcode-工程">一、新建一个 Xcode 工程</h3>
<h4 id="打开-xcode">1.打开 Xcode</h4>
<p>启动 Xcode 之后会如下的 Welcome 窗口, 窗口的右侧列出了曾经打开过的工程. 如果没有出现窗口, 请点击 dock 栏上的 Xcode 图标.<br /><img src="./stepByStep1.png" alt="Smaller icon" /></p>
<h4 id="开始创建工程">2.开始创建工程</h4>
<p>Welcome 窗口的左下角列出了 3 个可供选择的选项, 点击第 2 个 &quot;Create a new Xcode project&quot;, 会出现一个助手窗口. 在助手窗口中, 按照红色箭头的指向, 依次点击红色方框中的内容, 以便创建一个只有单个空白页面的新工程.<br /><img src="./stepByStep2.png" alt="Smaller icon" /></p>
<h4 id="完善-app-的信息">3.完善 app 的信息</h4>
<p>完成第 2 步之后, 会出现一个如下的新窗口, 在这个窗口中, 为这个新的工程完善信息.<br />从上往下<br />第 1 项: Product Name, 即产品名称, 也可以理解为 app 的名字<br />第 2 项: Organization Name, 即组织名称, 也就是公司名称或者团队名称<br />第 3 项: Organization Identifier, 即组织标识符, 一般格式为: com.公司名<br />第 4 项: Bundle Identifier, 即包标识符, 由第 3 项和第 1 项共同组成. 第 5 项: Language, 即用来编写这个 app 的编程语言, 可选值有 Objective-C 和 swift, 在本使用说明使用 Objective-C. 第 6 项: Devices, 即目标设备的种类, 也就是你的 app 准备运行在哪个种类的 iOS 设备上, 可选值有 iPhone, iPad, Universal(通用), 在本使用说明使用 iPhone.<br />第 7 项: Use Core Data, 即是否在项目中创建 CoreData 文件以便存储数据. 如果不清楚是否要创建 CoreData 文件, 请不要选中此项.<br /><img src="./stepByStep3.png" alt="Smaller icon" /></p>
<p>app 信息示例: (在完善了所有信息之后, 请请点击如下图所示的红色方框中的按钮)<br /><img src="./stepByStep4.png" alt="Smaller icon" /></p>
<h4 id="选择工程文件的存放位置">4.选择工程文件的存放位置</h4>
<p>完成第 3 步后, 会弹出如下窗口以便选择工程文件的存放位置. 选好位置以后, 请点击图中红色方框中的按钮.<br />注: 如果不明白红色圆形包围的选项的含义和作用, 请不要选中它.<br /><img src="./stepByStep5.png" alt="Smaller icon" /></p>
<hr />
<h3 id="二修改这个工程的配置">二、修改这个工程的配置</h3>
<h4 id="app-的基本配置">1.app 的基本配置</h4>
<p>在创建一个 Xcode 工程之后, 会出现如下所示的窗口. 在这个窗口中, 可以修改 app 的一些配置, 红色方框中的是 2 个常用配置: 第 1 个: Deployment Target, 是这个 app 可以兼容的, 最低的 iOS 版本. 点击右侧向下的箭头, Xcode 会列出所有可供选择的 iOS 版本号. (Juma SDK 支持的最低的 iOS 版本是 iOS 7.0)<br />第 2 个: Devices, 是这个 app 可以运行的 iOS 设备的种类, 点击右侧向下的箭头, Xcode 会列出可选值.<br /><img src="./stepByStep6.png" alt="Smaller icon" /></p>
<h4 id="为工程添加-corebluetooth-框架.">2.为工程添加 CoreBLuetooth 框架.</h4>
<p>为了在工程中使用 Juma Bluetooth SDK, 需要为这个工程添加 CoreBluetooth 框架. 请参照红色箭头的顺序, 依次点击红色方框中的内容.<br /><img src="./stepByStep7.png" alt="Smaller icon" /><br />随后, 会出现如下的窗口<br /><img src="./stepByStep8.png" alt="Smaller icon" /><br />在搜索框中输入 CoreBluetooth, 按照红色箭头的顺序, 依次点击红色方框中的内容.<br /><img src="./stepByStep9.png" alt="Smaller icon" /><br />出现下图的两个红色方框中的内容时, 说明框架添加完成.<br /><img src="./stepByStep10.png" alt="Smaller icon" /></p>
<h4 id="为工程添加链接参数">3.为工程添加链接参数</h4>
<p>为了在工程中使用 Juma Bluetooth SDK, 需要为这个工程添加一个链接参数. 请参照红色箭头的顺序, 依次点击红色方框中的内容, 在最后一个红色方框内的搜索框中输入 Other Linker Flags.<br /><img src="./stepByStep11.png" alt="Smaller icon" /><br />在下图的长方形红色方框的末尾双击, 会出现一个编辑窗口, 用来添加/删除参数. 编辑窗口出现后, 点击正方形红色方框中的 + 号.<br /><img src="./stepByStep12.png" alt="Smaller icon" /><br />点击 + 号以后, 会出现下图红色方框所示的输入框, 在输入框中输入 -ObjC.<br /><img src="./stepByStep13.png" alt="Smaller icon" /><br />输入完成后, 点击编辑窗口以外的空白区域, 出现下图红色方框中的内容时, 就说明参数添加成功.<br /><img src="./stepByStep14.png" alt="Smaller icon" /></p>
<h4 id="让-app-能够在后台运行">4.让 app 能够在后台运行</h4>
<p>iOS 系统支持有限的几种允许 app 在后台运行的模式, 蓝牙形式的后台模式就是其中之一. 为了让 app 能够在后台完成蓝牙任务, 请参照下图红色箭头的顺序点击并完成红色方框中的内容.<br /><img src="./stepByStep15.png" alt="Smaller icon" /></p>
<hr />
<h3 id="三向工程添加-juma-sdk-的代码文件">三、向工程添加 Juma SDK 的代码文件</h3>
<p>找到以黄色的文件夹图标开头, 并和工程同名的那一行, 如下图所示<br /><img src="./stepByStep16.png" alt="Smaller icon" /><br />在这一行上右键, 点击右键菜单中的 Add Files to 选项<br /><img src="./stepByStep17.png" alt="Smaller icon" /><br />随后会出现一个如下的窗口用来查找 Juma SDK 的代码文件的位置, 找到文件后, 从上到下, 依次完成红色方框中的内容.<br /><img src="./stepByStep18.png" alt="Smaller icon" /><br />完成上一步以后, 出现类似如下图所示内容, 就表示 Juma SDK 代码文件添加成功.<br /><img src="./stepByStep19.png" alt="Smaller icon" /></p>
<hr />
<p>至此, 创建工程, 修改工程的配置, 添加 Juma Bluetooth SDK 文件就全部完成了.</p>

</div>
<div class="col-xs-6 col-sm-3" id="sidebar">
<div class="list-group">

<h4><Strong>教程</Strong></h4>

<a href="http://www.juma.io/doc/zh/ios_sdk/guide/instruction.html">使用说明</a>
<ul class="menu_wwwzzjsnet">

<li><a href="http://www.juma.io/doc/zh/ios_sdk/guide/instruction/stepByStep.html">在工程中使用SDK</a></li>

</ul>


<h4><Strong>API</Strong></h4>

<a href="http://www.juma.io/doc/zh/ios_sdk/api/manager.html">管理者</a>
<ul class="menu_wwwzzjsnet">

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/init.html">初始化</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/didUpdateState.html">蓝牙状态事件</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/retrieve.html">检索扫描记录</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/scan.html">开始扫描</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/stopScan.html">停止扫描</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/didDiscover.html">发现设备事件</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/didStopScan.html">停止扫描事件</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/connect.html">建立连接</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/disconnect.html">断开连接</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/didConnect.html">连接成功事件</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/didFailToConnect.html">连接失败事件</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/didDisconnect.html">连接断开事件</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/JumaManagerOptionRestoreIdentifierKey.html">状态保存和恢复</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/JumaManagerOptionShowPowerAlertKey.html">显示蓝牙状态警告</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/manager/JumaManagerScanOptionAllowDuplicatesKey.html">重复设备报告</a></li>

</ul>

<a href="http://www.juma.io/doc/zh/ios_sdk/api/device.html">设备</a>
<ul class="menu_wwwzzjsnet">

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/device/readRSSI.html">读取信号强度</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/device/didReadRSSI.html">读取信号强度事件</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/device/writeData.html">发送数据</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/device/didWriteData.html">发送数据事件</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/device/didUpdateData.html">接收数据事件</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/device/setOtaMode.html">设置升级模式</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/device/updateFirmware.html">更新固件</a></li>

<li><a href="http://www.juma.io/doc/zh/ios_sdk/api/device/didUpdateFirmware.html">更新固件事件</a></li>

</ul>


</div>
</div><!--/.sidebar-offcanvas-->
</div><!--/row-->
<hr>
<footer>
<p>&copy; Juma Docs 2015</p>
</footer>
</div><!--/.container-->
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="http://www.juma.io/static/js/jquery.min.js"></script>
<script src="http://www.juma.io/static/js/bootstrap.min.js"></script>
</body>
</html>
